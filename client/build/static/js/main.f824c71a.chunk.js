(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},249:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(14),s=a.n(i),c=(a(100),a(60)),o=a(15),l=a.n(o),u=a(27),m=a(17),p=a(18),h=a(20),g=a(19),d=a(21),f=a(31),y=a(33),b=a.n(y),v=a(30),j=a.n(v),E=a(42),O=a.n(E),k=a(93),w=a.n(k),x=a(59),S=a.n(x),C=a(58),I=a.n(C),B=a(57),T=a.n(B),A=a(94),L=a.n(A),q=a(32),D=a.n(q),N=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={uri:"",loading:!1},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"onUpload",value:function(){var e=Object(u.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.uri){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),e.next=5,fetch("/api",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({uri:this.state.uri})});case 5:e.sent.ok&&this.props.updateData(0),this.setState({loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"outlined",label:"Image url...",style:{width:"100%",marginBottom:10},onChange:function(t){return e.setState({uri:t.target.value})}}),this.state.loading?r.a.createElement(D.a,{color:"secondary"}):r.a.createElement(b.a,{variant:"outlined",color:"secondary",onClick:function(){return e.onUpload()}},"Upload"))}}]),t}(n.Component),U=a(43),z=a.n(U),F=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,{style:{height:400,width:500}},r.a.createElement("img",{src:this.props.src,style:{height:"80%",width:"95%",marginTop:5}}),r.a.createElement("h3",{style:{margin:0}},this.props.name))}}]),t}(n.Component),J=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(z.a,{container:!0,justify:"center",spacing:Number(24)},this.props.images.map(function(e){return r.a.createElement(z.a,{key:e.id,item:!0},r.a.createElement(F,{src:e.src,name:e.name}))}))))}}]),t}(n.Component),M=(a(249),[{label:"Name",query:"name"},{label:"Size",query:"size"},{label:"Upload date",query:"date"}]),P=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={tab:0,sortBy:M[2].label,images:[],search:"",loading:!1,page:0,dynamicLoading:!1,sort:"date"},a.getImages=a.getImages.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getImages(0);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getImages",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var a,n,r,i,s,c,o,u,m,p;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a="/api?start="+t+"&sort="+this.state.sort+"&search="+this.state.search,e.prev=2,e.next=5,fetch(a,{method:"get",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 5:if(!(n=e.sent).ok){e.next=32;break}return e.next=9,n.json();case 9:for(r=e.sent,i=!0,s=!1,c=void 0,e.prev=13,o=r.images[Symbol.iterator]();!(i=(u=o.next()).done);i=!0)(m=u.value).name.length>20&&(m.name=m.name.slice(0,20)+"...");e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),s=!0,c=e.t0;case 21:e.prev=21,e.prev=22,i||null==o.return||o.return();case 24:if(e.prev=24,!s){e.next=27;break}throw c;case 27:return e.finish(24);case 28:return e.finish(21);case 29:p=this.state.images,t>this.state.page?p=p.concat(r.images):(p=r.images.slice(),this.setState({page:t})),this.setState({images:p});case 32:this.setState({loading:!1}),e.next=39;break;case 35:e.prev=35,e.t1=e.catch(2),console.log(e.t1.message),this.setState({loading:!1});case 39:case"end":return e.stop()}},e,this,[[2,35],[13,17,21,29],[22,,24,28]])}));return function(t){return e.apply(this,arguments)}}()},{key:"onSort",value:function(e){var t,a=this;this.setState((t={},Object(c.a)(t,e.target.name,e.target.value),Object(c.a)(t,"sort",M.find(function(t){return t.label===e.target.value}).query),t),function(){return a.getImages(0)})}},{key:"onLoadMore",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t,a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.page,a=this.state.images.length,e.next=4,this.getImages(t+1);case 4:n=this.state.images.length,a!==n&&this.setState({page:t+1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"app-body"},r.a.createElement(j.a,{style:{padding:10,paddingTop:0,marginBottom:20,marginTop:20,width:"75%"}},r.a.createElement("div",{style:{marginTop:10,marginBottom:10,textAlign:"left"}},r.a.createElement(N,{updateData:this.getImages}),r.a.createElement(w.a,{style:{marginTop:10}})),r.a.createElement("div",{style:{marginBottom:10,display:"flex",flexDirection:"row",justifyContent:"space-between",width:"70%"}},r.a.createElement(O.a,{variant:"outlined",label:"Find image...",style:{width:"65%"},onChange:function(t){return e.setState({search:t.target.value})}}),r.a.createElement(b.a,{variant:"outlined",color:"secondary",style:{width:"10%"},onClick:function(){return e.getImages(0,e.state.search)}},"Find"),r.a.createElement(I.a,{style:{width:"20%"}},r.a.createElement(T.a,{htmlFor:"age-simple"},"Sort by"),r.a.createElement(S.a,{value:this.state.sortBy,onChange:function(t){return e.onSort(t)},inputProps:{name:"sortBy"}},M.map(function(e){return r.a.createElement(L.a,{key:e.label,value:e.label},e.label)})))),this.state.loading&&r.a.createElement(D.a,{color:"secondary",style:{marginBottom:10}}),this.state.images.length>0&&r.a.createElement("div",null,r.a.createElement(J,{images:this.state.images}),this.state.dynamicLoading?r.a.createElement(D.a,{color:"secondary",size:20,style:{marginTop:10}}):r.a.createElement(b.a,{variant:"outlined",style:{marginTop:10},onClick:function(){return e.onLoadMore()}},"Load more")))))}}]),t}(n.Component);s.a.render(r.a.createElement(P,null),document.getElementById("root"))},95:function(e,t,a){e.exports=a(256)}},[[95,2,1]]]);
//# sourceMappingURL=main.f824c71a.chunk.js.map